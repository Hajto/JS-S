<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8" />
        <meta name="format-detection" content="telephone=no" />
        <meta name="viewport" content="user-scalable=no, initial-scale=1, maximum-scale=1, minimum-scale=1, width=device-width, height=device-height, target-densitydpi=device-dpi" />
        <title>Hello buttons.</title>
        <script>
            window.addEventListener("load", onLoad, false);
            var width = (window.innerWidth > 0) ? window.innerWidth : screen.width;

            function onLoad() {
                addBig(width);
                addSmallDivs(3,width);
            }
            function addBig(width){
                var div = document.getElementById("mainDiv");
                div.style.width = width +"px";
                div.style.height = width +"px";
                div.style.position = "absolute";
                div.style.top = "30px";
                div.style.left = "10px";
            }
            function addSmallDivs(wielkosc, width) {

                var main = document.getElementById("mainDiv");
                for (var j = 0; j < wielkosc ; j++) {
                    for (var i = 0; i < wielkosc; i++) {
                        var small = document.createElement("div");
                        main.appendChild(small);
                        small.style.width = (width / wielkosc) + "px";
                        small.style.height = (width / wielkosc) + "px";
                        small.style.position = "absolute";
                        small.style.left = i * (width / wielkosc) + "px";
                        small.style.top = j * (width / wielkosc) + "px";
                        small.style.border = "solid";

                        small.style.borderColor = "#00ff00";
                        small.style.background = "#0000ff";
                        small.addEventListener("mousedown", onDown, false);
                    }
                }
            }

            var stan = true;
            function onDown(e) {
                var klikniety = e.target;
                var img = document.createElement("img");
                klikniety.appendChild(img);
                klikniety.removeEventListener("mousedown", onDown);

                //zmienic 3 na argument ze switcha...
                img.width = width/3;


                klikniety.style.background = "#ff0000";
                    if (stan) {
                        img.src = "/img/kolo.png";
                    } else {
                        img.src = "/img/krzyz.png";
                    }
                    stan = !stan
            }
        </script>
    </head>
    <body>
        <div id="mainDiv">

        </div>
    </body>
</html>
